<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Panel Admina â€” Marcin Kot</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&family=Montserrat:wght@200;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      :root {
        --gold: #c9a84c;
        --gold-dim: rgba(201, 168, 76, 0.15);
        --cream: #f5f0e8;
        --dark: #0d0d0d;
        --mid: #161616;
        --panel: #1c1c1c;
        --border: rgba(255, 255, 255, 0.07);
        --red: #c0392b;
        --green: #27ae60;
      }
      body {
        font-family: "Montserrat", sans-serif;
        background: var(--dark);
        color: var(--cream);
        min-height: 100vh;
      }

      /* â•â•â• LOGIN SCREEN â•â•â• */
      #loginScreen {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background:
          linear-gradient(135deg, rgba(201, 168, 76, 0.03) 0%, transparent 60%),
          var(--dark);
        padding: 2rem;
      }

      .login-box {
        width: 100%;
        max-width: 480px;
        background: var(--panel);
        border: 1px solid var(--border);
        padding: 3rem 2.5rem;
        position: relative;
      }

      .login-box::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          to right,
          transparent,
          var(--gold),
          transparent
        );
      }

      .login-logo {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.4rem;
        font-weight: 300;
        letter-spacing: 0.2em;
        color: var(--gold);
        margin-bottom: 0.4rem;
      }

      .login-subtitle {
        font-size: 0.55rem;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.3);
        margin-bottom: 2.5rem;
      }

      .login-heading {
        font-family: "Cormorant Garamond", serif;
        font-size: 2rem;
        font-weight: 300;
        margin-bottom: 0.5rem;
      }

      .login-desc {
        font-size: 0.68rem;
        color: rgba(245, 240, 232, 0.35);
        line-height: 1.7;
        margin-bottom: 2rem;
      }

      .login-desc a {
        color: var(--gold);
        text-decoration: none;
        border-bottom: 1px solid rgba(201, 168, 76, 0.3);
        transition: border-color 0.3s;
      }
      .login-desc a:hover {
        border-color: var(--gold);
      }

      .login-field {
        display: flex;
        flex-direction: column;
        gap: 0.6rem;
        margin-bottom: 1.5rem;
      }

      .login-field label {
        font-size: 0.55rem;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
      }

      .token-input-wrap {
        position: relative;
        display: flex;
      }

      .login-field input {
        width: 100%;
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid var(--border);
        border-radius: 2px;
        color: var(--cream);
        font-family: "Montserrat", sans-serif;
        font-size: 0.8rem;
        padding: 0.85rem 3rem 0.85rem 1rem;
        outline: none;
        transition: border-color 0.3s;
        letter-spacing: 0.05em;
      }
      .login-field input:focus {
        border-color: rgba(201, 168, 76, 0.5);
      }
      .login-field input::placeholder {
        color: rgba(245, 240, 232, 0.15);
        letter-spacing: 0.05em;
      }

      .toggle-visibility {
        position: absolute;
        right: 0.8rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: rgba(245, 240, 232, 0.3);
        cursor: pointer;
        font-size: 0.9rem;
        padding: 0.2rem;
        transition: color 0.2s;
        line-height: 1;
      }
      .toggle-visibility:hover {
        color: var(--gold);
      }

      .login-hint {
        font-size: 0.6rem;
        color: rgba(245, 240, 232, 0.2);
        letter-spacing: 0.05em;
        line-height: 1.6;
        margin-top: 0.4rem;
      }

      .login-btn {
        width: 100%;
        padding: 1rem;
        background: var(--gold);
        color: var(--dark);
        border: none;
        font-family: "Montserrat", sans-serif;
        font-size: 0.65rem;
        font-weight: 600;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        cursor: pointer;
        transition: opacity 0.3s;
        margin-top: 0.5rem;
      }
      .login-btn:hover {
        opacity: 0.85;
      }
      .login-btn:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      .login-error {
        display: none;
        margin-top: 1rem;
        padding: 0.8rem 1rem;
        background: rgba(192, 57, 43, 0.1);
        border-left: 3px solid var(--red);
        font-size: 0.68rem;
        color: rgba(245, 240, 232, 0.7);
        line-height: 1.6;
      }
      .login-error.show {
        display: block;
      }

      .login-security-note {
        margin-top: 1.8rem;
        padding-top: 1.5rem;
        border-top: 1px solid var(--border);
        display: flex;
        gap: 0.8rem;
        align-items: flex-start;
      }

      .security-icon {
        font-size: 1rem;
        color: var(--gold);
        flex-shrink: 0;
        margin-top: 0.1rem;
      }

      .security-text {
        font-size: 0.6rem;
        color: rgba(245, 240, 232, 0.25);
        line-height: 1.7;
      }

      /* â•â•â• ADMIN PANEL (hidden until login) â•â•â• */
      #adminPanel {
        display: none;
      }

      /* TOP BAR */
      .topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.1rem 2.5rem;
        background: var(--mid);
        border-bottom: 1px solid var(--gold-dim);
        position: sticky;
        top: 0;
        z-index: 100;
        flex-wrap: wrap;
        gap: 0.8rem;
      }
      .topbar-brand {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .topbar-logo {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.3rem;
        font-weight: 300;
        letter-spacing: 0.15em;
        color: var(--gold);
      }
      .topbar-sep {
        width: 1px;
        height: 20px;
        background: var(--border);
      }
      .topbar-title {
        font-size: 0.6rem;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
      }
      .topbar-right {
        display: flex;
        align-items: center;
        gap: 0.8rem;
      }
      .back-link {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.65rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
        text-decoration: none;
        transition: color 0.3s;
        border: 1px solid var(--border);
        padding: 0.5rem 1rem;
      }
      .back-link:hover {
        color: var(--gold);
        border-color: var(--gold-dim);
      }
      .logout-btn {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.65rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
        background: none;
        border: 1px solid var(--border);
        padding: 0.5rem 1rem;
        cursor: pointer;
        transition:
          color 0.3s,
          border-color 0.3s;
        font-family: "Montserrat", sans-serif;
      }
      .logout-btn:hover {
        color: var(--red);
        border-color: rgba(192, 57, 43, 0.4);
      }

      /* LAYOUT */
      .admin-wrap {
        max-width: 900px;
        margin: 0 auto;
        padding: 3rem 2rem 5rem;
      }
      .admin-header {
        margin-bottom: 2.5rem;
        padding-bottom: 2rem;
        border-bottom: 1px solid var(--border);
      }
      .admin-eyebrow {
        font-size: 0.55rem;
        letter-spacing: 0.4em;
        text-transform: uppercase;
        color: var(--gold);
        margin-bottom: 0.7rem;
      }
      .admin-heading {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.8rem;
        font-weight: 300;
      }
      .admin-sub {
        font-size: 0.7rem;
        color: rgba(245, 240, 232, 0.35);
        margin-top: 0.5rem;
        line-height: 1.7;
      }
      .admin-sub code {
        font-family: monospace;
        background: rgba(255, 255, 255, 0.06);
        padding: 0.1em 0.4em;
        border-radius: 3px;
        font-size: 0.85em;
        color: var(--gold);
      }

      /* STATUS BAR */
      .status-bar {
        display: flex;
        align-items: center;
        gap: 0.8rem;
        padding: 0.8rem 1.2rem;
        background: var(--panel);
        border: 1px solid var(--border);
        margin-bottom: 2rem;
        font-size: 0.65rem;
        letter-spacing: 0.1em;
      }
      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.15);
        flex-shrink: 0;
        transition: background 0.3s;
      }
      .status-dot.ok {
        background: var(--green);
        box-shadow: 0 0 6px var(--green);
      }
      .status-dot.err {
        background: var(--red);
        box-shadow: 0 0 6px var(--red);
      }
      .status-dot.loading {
        background: var(--gold);
        animation: pulse 1s infinite;
      }
      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.3;
        }
      }
      .status-text {
        color: rgba(245, 240, 232, 0.5);
      }
      .status-text span {
        color: var(--cream);
      }

      /* STATS */
      .stats-bar {
        display: flex;
        gap: 1px;
        background: var(--border);
        margin-bottom: 2rem;
        border: 1px solid var(--border);
      }
      .stat-item {
        flex: 1;
        background: var(--panel);
        padding: 1.2rem 1.5rem;
        text-align: center;
      }
      .stat-number {
        font-family: "Cormorant Garamond", serif;
        font-size: 2.5rem;
        font-weight: 300;
        color: var(--gold);
        line-height: 1;
      }
      .stat-label {
        font-size: 0.55rem;
        letter-spacing: 0.25em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.3);
        margin-top: 0.4rem;
      }

      /* CARD */
      .card {
        background: var(--panel);
        border: 1px solid var(--border);
        margin-bottom: 2rem;
        overflow: hidden;
      }
      .card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1.2rem 1.8rem;
        border-bottom: 1px solid var(--border);
      }
      .card-header.clickable {
        cursor: pointer;
        user-select: none;
      }
      .card-header-left {
        display: flex;
        align-items: center;
        gap: 1rem;
      }
      .card-icon {
        width: 32px;
        height: 32px;
        border: 1px solid var(--gold-dim);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
        color: var(--gold);
        flex-shrink: 0;
      }
      .card-title {
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 0.2em;
        text-transform: uppercase;
      }
      .card-toggle {
        font-size: 0.7rem;
        color: rgba(245, 240, 232, 0.3);
        transition: transform 0.3s;
      }
      .card-toggle.open {
        transform: rotate(180deg);
      }
      .card-body {
        padding: 1.8rem;
      }

      /* FORM */
      .form-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1.2rem;
        margin-bottom: 1.2rem;
      }
      .form-row.three {
        grid-template-columns: 1fr 1fr 1fr;
      }
      .form-row.full {
        grid-template-columns: 1fr;
      }
      .field {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }
      .field label {
        font-size: 0.55rem;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
      }
      .field input,
      .field select {
        background: rgba(255, 255, 255, 0.04);
        border: 1px solid var(--border);
        border-radius: 2px;
        color: var(--cream);
        font-family: "Montserrat", sans-serif;
        font-size: 0.8rem;
        padding: 0.75rem 1rem;
        outline: none;
        transition: border-color 0.3s;
        width: 100%;
      }
      .field input:focus,
      .field select:focus {
        border-color: rgba(201, 168, 76, 0.5);
      }
      .field input::placeholder {
        color: rgba(245, 240, 232, 0.2);
      }
      .field select option {
        background: var(--mid);
        color: var(--cream);
      }
      .form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 1rem;
        margin-top: 0.5rem;
      }

      /* BUTTONS */
      .btn-primary {
        padding: 0.75rem 2rem;
        background: var(--gold);
        color: var(--dark);
        border: none;
        font-family: "Montserrat", sans-serif;
        font-size: 0.65rem;
        font-weight: 600;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
        transition: opacity 0.3s;
      }
      .btn-primary:hover {
        opacity: 0.85;
      }
      .btn-primary:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }
      .btn-ghost {
        padding: 0.75rem 1.5rem;
        background: transparent;
        color: rgba(245, 240, 232, 0.4);
        border: 1px solid var(--border);
        font-family: "Montserrat", sans-serif;
        font-size: 0.65rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
        transition:
          color 0.3s,
          border-color 0.3s;
      }
      .btn-ghost:hover {
        color: var(--cream);
        border-color: rgba(255, 255, 255, 0.2);
      }

      /* CONCERT ROWS */
      .btn-reset {
        padding: 0.5rem 1rem;
        background: transparent;
        color: rgba(245, 240, 232, 0.3);
        border: 1px solid var(--border);
        font-family: "Montserrat", sans-serif;
        font-size: 0.55rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
        transition:
          color 0.3s,
          border-color 0.3s;
      }
      .btn-reset:hover {
        color: var(--red);
        border-color: rgba(192, 57, 43, 0.4);
      }
      .sort-hint {
        font-size: 0.6rem;
        letter-spacing: 0.1em;
        color: rgba(245, 240, 232, 0.25);
      }

      .concert-row {
        background: var(--panel);
        border: 1px solid var(--border);
        margin-bottom: 0.6rem;
        display: grid;
        grid-template-columns: 80px 1fr auto;
        align-items: center;
        padding: 1rem 1.5rem;
        gap: 1.5rem;
        transition: border-color 0.3s;
      }
      .concert-row:hover {
        border-color: var(--gold-dim);
      }
      .concert-row.editing {
        border-color: rgba(201, 168, 76, 0.5);
      }
      .row-date {
        text-align: center;
        border-right: 1px solid var(--border);
        padding-right: 1.5rem;
      }
      .row-day {
        font-family: "Cormorant Garamond", serif;
        font-size: 2rem;
        font-weight: 300;
        color: var(--gold);
        line-height: 1;
      }
      .row-my {
        font-size: 0.5rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: rgba(245, 240, 232, 0.4);
        margin-top: 0.2rem;
      }
      .row-name {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.2rem;
        font-weight: 300;
        margin-bottom: 0.2rem;
      }
      .row-place {
        font-size: 0.62rem;
        letter-spacing: 0.08em;
        color: rgba(245, 240, 232, 0.4);
      }
      .row-actions {
        display: flex;
        gap: 0.5rem;
        flex-shrink: 0;
      }
      .action-btn {
        width: 34px;
        height: 34px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: transparent;
        border: 1px solid var(--border);
        color: rgba(245, 240, 232, 0.4);
        cursor: pointer;
        font-size: 0.75rem;
        transition: all 0.2s;
      }
      .action-btn.edit:hover {
        border-color: var(--gold-dim);
        color: var(--gold);
      }
      .action-btn.del:hover {
        border-color: rgba(192, 57, 43, 0.4);
        color: var(--red);
      }
      .action-btn.up:hover,
      .action-btn.dn:hover {
        border-color: rgba(245, 240, 232, 0.2);
        color: var(--cream);
      }

      /* INLINE EDIT */
      .edit-form {
        display: none;
        background: rgba(201, 168, 76, 0.04);
        border-top: 1px solid var(--gold-dim);
        padding: 1.4rem 1.5rem;
        grid-column: 1 / -1;
      }
      .edit-form.open {
        display: block;
      }
      .edit-row {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 1rem;
        margin-bottom: 1rem;
      }
      .edit-actions {
        display: flex;
        gap: 0.8rem;
        justify-content: flex-end;
      }
      .field input.ef {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid var(--border);
        border-radius: 2px;
        color: var(--cream);
        font-family: "Montserrat", sans-serif;
        font-size: 0.75rem;
        padding: 0.6rem 0.8rem;
        outline: none;
        width: 100%;
        transition: border-color 0.3s;
      }
      .field input.ef:focus {
        border-color: rgba(201, 168, 76, 0.5);
      }
      .btn-save {
        padding: 0.6rem 1.5rem;
        background: var(--gold);
        color: var(--dark);
        border: none;
        font-family: "Montserrat", sans-serif;
        font-size: 0.6rem;
        font-weight: 600;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
      }
      .btn-save:hover {
        opacity: 0.85;
      }
      .btn-save:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }
      .btn-cancel {
        padding: 0.6rem 1rem;
        background: transparent;
        color: rgba(245, 240, 232, 0.3);
        border: 1px solid var(--border);
        font-family: "Montserrat", sans-serif;
        font-size: 0.6rem;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        cursor: pointer;
      }
      .btn-cancel:hover {
        color: var(--cream);
      }

      /* EMPTY */
      .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        background: var(--panel);
        border: 1px dashed var(--border);
        color: rgba(245, 240, 232, 0.2);
      }
      .empty-state-icon {
        font-size: 2rem;
        margin-bottom: 1rem;
      }
      .empty-state-text {
        font-size: 0.7rem;
        letter-spacing: 0.2em;
      }

      /* TOAST */
      .toast {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        padding: 0.9rem 1.5rem;
        background: var(--panel);
        border-left: 3px solid var(--gold);
        font-size: 0.7rem;
        letter-spacing: 0.1em;
        color: var(--cream);
        transform: translateY(80px);
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
        z-index: 9999;
        max-width: 320px;
      }
      .toast.success {
        border-color: var(--green);
      }
      .toast.danger {
        border-color: var(--red);
      }
      .toast.show {
        transform: translateY(0);
        opacity: 1;
      }

      /* SPINNER */
      .spinner {
        display: inline-block;
        width: 12px;
        height: 12px;
        border: 2px solid rgba(13, 13, 13, 0.3);
        border-top-color: var(--dark);
        border-radius: 50%;
        animation: spin 0.7s linear infinite;
        margin-right: 6px;
        vertical-align: middle;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* MODALS */
      .modal-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.75);
        z-index: 500;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
        backdrop-filter: blur(4px);
      }
      .modal-overlay.open {
        opacity: 1;
        pointer-events: all;
      }
      .modal {
        background: var(--panel);
        border: 1px solid var(--border);
        padding: 2.5rem;
        max-width: 380px;
        width: 90%;
        text-align: center;
        transform: scale(0.9);
        transition: transform 0.3s;
      }
      .modal-overlay.open .modal {
        transform: scale(1);
      }
      .modal-icon {
        font-size: 1.8rem;
        color: var(--red);
        margin-bottom: 1rem;
      }
      .modal-title {
        font-family: "Cormorant Garamond", serif;
        font-size: 1.6rem;
        font-weight: 300;
        margin-bottom: 0.7rem;
      }
      .modal-text {
        font-size: 0.7rem;
        color: rgba(245, 240, 232, 0.5);
        line-height: 1.6;
        margin-bottom: 2rem;
      }
      .modal-concert-name {
        color: var(--gold);
      }
      .modal-actions {
        display: flex;
        gap: 1rem;
        justify-content: center;
      }
      .btn-danger {
        padding: 0.7rem 1.8rem;
        background: var(--red);
        color: #fff;
        border: none;
        font-family: "Montserrat", sans-serif;
        font-size: 0.6rem;
        font-weight: 600;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        cursor: pointer;
      }
      .btn-danger:hover {
        opacity: 0.85;
      }

      @media (max-width: 640px) {
        .admin-wrap {
          padding: 2rem 1rem 4rem;
        }
        .topbar {
          padding: 1rem 1.2rem;
        }
        .form-row,
        .form-row.three,
        .edit-row {
          grid-template-columns: 1fr;
        }
        .stats-bar {
          flex-direction: column;
          gap: 1px;
        }
        .concert-row {
          grid-template-columns: 60px 1fr;
        }
        .row-actions {
          grid-column: 1 / -1;
          justify-content: flex-end;
        }
        .login-box {
          padding: 2rem 1.5rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- LOGIN SCREEN                        -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="loginScreen">
      <div class="login-box">
        <div class="login-logo">MARCIN KOT</div>
        <div class="login-subtitle">Panel Administracyjny</div>

        <h1 class="login-heading">Zaloguj siÄ™</h1>
        <p class="login-desc">
          Wpisz swÃ³j
          <a href="https://github.com/settings/tokens" target="_blank"
            >Personal Access Token</a
          >
          z GitHub.<br />
          Token nie jest nigdzie zapisywany â€” obowiÄ…zuje tylko do momentu
          zamkniÄ™cia lub odÅ›wieÅ¼enia strony.
        </p>

        <div class="login-field">
          <label>GitHub Personal Access Token *</label>
          <div class="token-input-wrap">
            <input
              type="password"
              id="tokenInput"
              placeholder="ghp_xxxxxxxxxxxxxxxxxxxx"
              autocomplete="off"
              spellcheck="false"
            />
            <button
              class="toggle-visibility"
              id="toggleBtn"
              onclick="toggleTokenVisibility()"
              title="PokaÅ¼/ukryj token"
            >
              ğŸ‘
            </button>
          </div>
          <span class="login-hint">
            Wymagane uprawnienie: <strong>Contents â†’ Read and write</strong> na
            repozytorium strony.
          </span>
        </div>

        <button class="login-btn" id="loginBtn" onclick="doLogin()">
          WejdÅº do panelu
        </button>

        <div class="login-error" id="loginError"></div>

        <div class="login-security-note">
          <span class="security-icon">ğŸ”’</span>
          <span class="security-text">
            Token istnieje wyÅ‚Ä…cznie w pamiÄ™ci przeglÄ…darki podczas tej sesji.
            Nie jest zapisywany w kodzie, plikach ani localStorage. Po
            zamkniÄ™ciu zakÅ‚adki znika bezpowrotnie.
          </span>
        </div>
      </div>
    </div>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- ADMIN PANEL                         -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <div id="adminPanel">
      <div class="topbar">
        <div class="topbar-brand">
          <span class="topbar-logo">MARCIN KOT</span>
          <div class="topbar-sep"></div>
          <span class="topbar-title">Panel Admina</span>
        </div>
        <div class="topbar-right">
          <a href="index.html" class="back-link">â† Strona gÅ‚Ã³wna</a>
          <button class="logout-btn" onclick="doLogout()">Wyloguj âœ•</button>
        </div>
      </div>

      <div class="admin-wrap">
        <div class="admin-header">
          <p class="admin-eyebrow">ZarzÄ…dzanie treÅ›ciÄ…</p>
          <h1 class="admin-heading">Koncerty</h1>
          <p class="admin-sub">
            Zmiany zapisujÄ… siÄ™ bezpoÅ›rednio do pliku
            <code>concerts.json</code> w repozytorium GitHub.
          </p>
        </div>

        <div class="status-bar" id="statusBar">
          <div class="status-dot loading" id="statusDot"></div>
          <span class="status-text" id="statusText">ÅÄ…czenie z GitHub...</span>
        </div>

        <div class="stats-bar">
          <div class="stat-item">
            <div class="stat-number" id="statTotal">â€”</div>
            <div class="stat-label">Wszystkich</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="statUpcoming">â€”</div>
            <div class="stat-label">NadchodzÄ…cych</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="statPast">â€”</div>
            <div class="stat-label">Minionych</div>
          </div>
        </div>

        <!-- ADD -->
        <div class="card">
          <div class="card-header clickable" id="addCardHeader">
            <div class="card-header-left">
              <div class="card-icon">+</div>
              <span class="card-title">Dodaj nowy koncert</span>
            </div>
            <span class="card-toggle open" id="addToggle">â–²</span>
          </div>
          <div class="card-body" id="addBody">
            <div class="form-row three">
              <div class="field">
                <label>DzieÅ„ *</label
                ><input
                  type="text"
                  id="newDay"
                  placeholder="np. 15"
                  maxlength="2"
                />
              </div>
              <div class="field">
                <label>MiesiÄ…c *</label>
                <select id="newMonth">
                  <option value="">â€” wybierz â€”</option>
                  <option>STY</option>
                  <option>LUT</option>
                  <option>MAR</option>
                  <option>APR</option>
                  <option>MAJ</option>
                  <option>CZE</option>
                  <option>LIP</option>
                  <option>SIE</option>
                  <option>WRZ</option>
                  <option>PAZ</option>
                  <option>LIS</option>
                  <option>GRU</option>
                </select>
              </div>
              <div class="field">
                <label>Rok *</label
                ><input
                  type="text"
                  id="newYear"
                  placeholder="np. 2026"
                  maxlength="4"
                />
              </div>
            </div>
            <div class="form-row full">
              <div class="field">
                <label>Nazwa koncertu *</label
                ><input
                  type="text"
                  id="newName"
                  placeholder="np. WieczÃ³r Chopinowski"
                />
              </div>
            </div>
            <div class="form-row full">
              <div class="field">
                <label>Miejsce i miasto *</label
                ><input
                  type="text"
                  id="newPlace"
                  placeholder="np. Filharmonia Narodowa â€” Warszawa"
                />
              </div>
            </div>
            <div class="form-actions">
              <button class="btn-ghost" onclick="clearForm()">WyczyÅ›Ä‡</button>
              <button class="btn-primary" id="addBtn" onclick="addConcert()">
                Dodaj koncert
              </button>
            </div>
          </div>
        </div>

        <!-- LIST -->
        <div class="card">
          <div class="card-header">
            <div class="card-header-left">
              <div class="card-icon">â™©</div>
              <span class="card-title">Lista koncertÃ³w</span>
            </div>
            <div style="display: flex; align-items: center; gap: 1rem">
              <span class="sort-hint">â†‘â†“ zmieÅ„ kolejnoÅ›Ä‡</span>
              <button class="btn-reset" onclick="confirmReset()">
                Resetuj
              </button>
            </div>
          </div>
          <div class="card-body" style="padding: 1.2rem">
            <div id="concertRows"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast" id="toast"></div>

    <!-- DELETE MODAL -->
    <div class="modal-overlay" id="deleteModal">
      <div class="modal">
        <div class="modal-icon">âš </div>
        <h2 class="modal-title">UsuÅ„ koncert?</h2>
        <p class="modal-text">
          Zamierzasz usunÄ…Ä‡:<br /><span
            class="modal-concert-name"
            id="deleteModalName"
          ></span
          ><br /><br />Zmiana zostanie zapisana w repozytorium GitHub.
        </p>
        <div class="modal-actions">
          <button class="btn-ghost" onclick="closeDeleteModal()">Anuluj</button>
          <button
            class="btn-danger"
            id="confirmDeleteBtn"
            onclick="confirmDelete()"
          >
            UsuÅ„ i zapisz
          </button>
        </div>
      </div>
    </div>

    <!-- RESET MODAL -->
    <div class="modal-overlay" id="resetModal">
      <div class="modal">
        <div class="modal-icon">âŸ²</div>
        <h2 class="modal-title">Reset danych?</h2>
        <p class="modal-text">
          Lista wrÃ³ci do domyÅ›lnych koncertÃ³w przykÅ‚adowych. Zmiana zostanie
          zapisana w repozytorium.
        </p>
        <div class="modal-actions">
          <button
            class="btn-ghost"
            onclick="
              document.getElementById('resetModal').classList.remove('open')
            "
          >
            Anuluj
          </button>
          <button class="btn-danger" id="confirmResetBtn" onclick="doReset()">
            Resetuj i zapisz
          </button>
        </div>
      </div>
    </div>

    <script>
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // âš™ï¸ KONFIGURACJA â€” tylko login i repo, BEZ tokenu!
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      const GITHUB_USER = "FilipKordusiak"; // twÃ³j login GitHub
      const GITHUB_REPO = "Antoni"; // nazwa repo
      const GITHUB_BRANCH = "main";
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

      const FILE_PATH = "concerts.json";
      const API_BASE = `https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/contents/${FILE_PATH}`;

      const DEFAULT_CONCERTS = [
        {
          id: 1,
          day: "15",
          monthYear: "MAR 2026",
          name: "WieczÃ³r Chopinowski",
          place: "Filharmonia Narodowa â€” Warszawa",
        },
        {
          id: 2,
          day: "02",
          monthYear: "APR 2026",
          name: "Muzyka bez granic",
          place: "Centrum Kongresowe â€” KrakÃ³w",
        },
        {
          id: 3,
          day: "20",
          monthYear: "MAY 2026",
          name: "Solo â€” Intymnie",
          place: "Stara Fabryka â€” ÅÃ³dÅº",
        },
        {
          id: 4,
          day: "07",
          monthYear: "JUN 2026",
          name: "Summer Jazz Festival",
          place: "Amfiteatr LeÅ›ny â€” Sopot",
        },
      ];

      // Token Å¼yje TYLKO tutaj â€” w pamiÄ™ci JS, nie w localStorage, nie w kodzie
      let GITHUB_TOKEN = null;
      let concerts = [];
      let fileSHA = null;
      let deleteTargetId = null;
      let isSaving = false;

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // LOGIN
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      function toggleTokenVisibility() {
        const input = document.getElementById("tokenInput");
        input.type = input.type === "password" ? "text" : "password";
      }

      async function doLogin() {
        const token = document.getElementById("tokenInput").value.trim();
        const btn = document.getElementById("loginBtn");
        const err = document.getElementById("loginError");

        if (!token) {
          showLoginError("Wpisz token przed wejÅ›ciem do panelu.");
          return;
        }
        if (!token.startsWith("ghp_") && !token.startsWith("github_pat_")) {
          showLoginError(
            "Token wyglÄ…da nieprawidÅ‚owo. Powinien zaczynaÄ‡ siÄ™ od <strong>ghp_</strong> lub <strong>github_pat_</strong>.",
          );
          return;
        }

        btn.disabled = true;
        btn.innerHTML =
          '<span class="spinner" style="border-top-color:var(--dark)"></span>Weryfikacja...';
        err.classList.remove("show");

        // Testowe zapytanie do API aby sprawdziÄ‡ token
        try {
          const res = await fetch(`${API_BASE}?ref=${GITHUB_BRANCH}`, {
            headers: {
              Authorization: `Bearer ${token}`,
              Accept: "application/vnd.github+json",
              "X-GitHub-Api-Version": "2022-11-28",
            },
          });

          if (res.status === 401)
            throw new Error(
              "NieprawidÅ‚owy token â€” sprawdÅº czy skopiowaÅ‚eÅ› go w caÅ‚oÅ›ci.",
            );
          if (res.status === 403)
            throw new Error(
              "Brak uprawnieÅ„ â€” token musi mieÄ‡ uprawnienie Contents: Read and write.",
            );
          if (res.status === 404)
            throw new Error(
              `Nie znaleziono pliku concerts.json w repo ${GITHUB_USER}/${GITHUB_REPO}. Upewnij siÄ™ Å¼e plik istnieje.`,
            );
          if (!res.ok) throw new Error(`BÅ‚Ä…d GitHub API: HTTP ${res.status}`);

          const data = await res.json();

          // Token OK â€” zapisz w pamiÄ™ci i przejdÅº do panelu
          GITHUB_TOKEN = token;
          concerts = JSON.parse(atob(data.content.replace(/\n/g, "")));
          fileSHA = data.sha;

          // WyczyÅ›Ä‡ pole z tokenem z DOM
          document.getElementById("tokenInput").value = "";

          // PokaÅ¼ panel
          document.getElementById("loginScreen").style.display = "none";
          document.getElementById("adminPanel").style.display = "block";

          setStatus(
            "ok",
            `PoÅ‚Ä…czono jako <span>${GITHUB_USER}</span> â€” plik wczytany pomyÅ›lnie`,
          );
          render();
          updateStats();
        } catch (e) {
          showLoginError(e.message);
          btn.disabled = false;
          btn.innerHTML = "WejdÅº do panelu";
        }
      }

      function showLoginError(msg) {
        const err = document.getElementById("loginError");
        err.innerHTML = "âš  " + msg;
        err.classList.add("show");
      }

      function doLogout() {
        // UsuÅ„ token z pamiÄ™ci
        GITHUB_TOKEN = null;
        concerts = [];
        fileSHA = null;
        document.getElementById("adminPanel").style.display = "none";
        document.getElementById("loginScreen").style.display = "flex";
        document.getElementById("tokenInput").value = "";
        document.getElementById("loginError").classList.remove("show");
        document.getElementById("loginBtn").disabled = false;
        document.getElementById("loginBtn").innerHTML = "WejdÅº do panelu";
      }

      // Enter w polu tokenu
      document.getElementById("tokenInput").addEventListener("keydown", (e) => {
        if (e.key === "Enter") doLogin();
      });

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // GITHUB API
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      async function ghFetch(url, method = "GET", body = null) {
        const opts = {
          method,
          headers: {
            Authorization: `Bearer ${GITHUB_TOKEN}`,
            Accept: "application/vnd.github+json",
            "X-GitHub-Api-Version": "2022-11-28",
          },
        };
        if (body) {
          opts.headers["Content-Type"] = "application/json";
          opts.body = JSON.stringify(body);
        }
        const res = await fetch(url, opts);
        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          throw new Error(err.message || `HTTP ${res.status}`);
        }
        return res.json();
      }

      async function saveFile(data, message) {
        const content = btoa(
          unescape(encodeURIComponent(JSON.stringify(data, null, 2))),
        );
        const body = { message, content, branch: GITHUB_BRANCH };
        if (fileSHA) body.sha = fileSHA;
        const res = await ghFetch(API_BASE, "PUT", body);
        fileSHA = res.content.sha;
      }

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // RENDER
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      function render() {
        const container = document.getElementById("concertRows");
        if (!concerts.length) {
          container.innerHTML = `<div class="empty-state"><div class="empty-state-icon">â™©</div><div class="empty-state-text">Brak koncertÃ³w â€” dodaj pierwszy powyÅ¼ej</div></div>`;
          return;
        }
        container.innerHTML = concerts
          .map(
            (c, idx) => `
      <div class="concert-row" id="row-${c.id}">
        <div class="row-date">
          <div class="row-day">${c.day}</div>
          <div class="row-my">${c.monthYear}</div>
        </div>
        <div>
          <div class="row-name">${c.name}</div>
          <div class="row-place">${c.place}</div>
        </div>
        <div class="row-actions">
          ${idx > 0 ? `<button class="action-btn up" onclick="moveUp(${c.id})">â†‘</button>` : '<span style="width:34px"></span>'}
          ${idx < concerts.length - 1 ? `<button class="action-btn dn" onclick="moveDown(${c.id})">â†“</button>` : '<span style="width:34px"></span>'}
          <button class="action-btn edit" onclick="toggleEdit(${c.id})">âœ</button>
          <button class="action-btn del" onclick="openDeleteModal(${c.id})">âœ•</button>
        </div>
        <div class="edit-form" id="ef-${c.id}">
          <div class="edit-row">
            <div class="field"><label>DzieÅ„</label><input class="ef" type="text" id="ef-day-${c.id}" value="${c.day}" maxlength="2"></div>
            <div class="field"><label>MiesiÄ…c + Rok</label><input class="ef" type="text" id="ef-my-${c.id}" value="${c.monthYear}"></div>
            <div class="field"><label>Nazwa</label><input class="ef" type="text" id="ef-name-${c.id}" value="${c.name}"></div>
          </div>
          <div class="edit-row" style="grid-template-columns:1fr;">
            <div class="field"><label>Miejsce i miasto</label><input class="ef" type="text" id="ef-place-${c.id}" value="${c.place}"></div>
          </div>
          <div class="edit-actions">
            <button class="btn-cancel" onclick="cancelEdit(${c.id})">Anuluj</button>
            <button class="btn-save" id="save-${c.id}" onclick="saveEdit(${c.id})">Zapisz na GitHub</button>
          </div>
        </div>
      </div>`,
          )
          .join("");
      }

      function updateStats() {
        document.getElementById("statTotal").textContent = concerts.length;
        const yr = new Date().getFullYear();
        const up = concerts.filter(
          (c) => parseInt(c.monthYear.split(" ")[1]) >= yr,
        ).length;
        document.getElementById("statUpcoming").textContent = up;
        document.getElementById("statPast").textContent = concerts.length - up;
      }

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // ADD / EDIT / DELETE / REORDER / RESET
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      async function addConcert() {
        if (isSaving) return;
        const day = document.getElementById("newDay").value.trim();
        const month = document.getElementById("newMonth").value;
        const year = document.getElementById("newYear").value.trim();
        const name = document.getElementById("newName").value.trim();
        const place = document.getElementById("newPlace").value.trim();
        if (!day || !month || !year || !name || !place) {
          showToast("WypeÅ‚nij wszystkie pola *", "danger");
          return;
        }
        if (isNaN(+day) || +day < 1 || +day > 31) {
          showToast("NieprawidÅ‚owy dzieÅ„ (1â€“31)", "danger");
          return;
        }
        if (year.length !== 4 || isNaN(+year)) {
          showToast("Rok musi mieÄ‡ 4 cyfry", "danger");
          return;
        }
        concerts.push({
          id: concerts.length ? Math.max(...concerts.map((c) => c.id)) + 1 : 1,
          day: day.padStart(2, "0"),
          monthYear: `${month} ${year}`,
          name,
          place,
        });
        await persistToGitHub(`Dodano koncert: ${name}`, "addBtn");
        clearForm();
        render();
        updateStats();
      }

      function clearForm() {
        ["newDay", "newYear", "newName", "newPlace"].forEach(
          (id) => (document.getElementById(id).value = ""),
        );
        document.getElementById("newMonth").value = "";
      }

      function toggleEdit(id) {
        const ef = document.getElementById(`ef-${id}`);
        const row = document.getElementById(`row-${id}`);
        const isOpen = ef.classList.contains("open");
        document
          .querySelectorAll(".edit-form.open")
          .forEach((el) => el.classList.remove("open"));
        document
          .querySelectorAll(".concert-row.editing")
          .forEach((el) => el.classList.remove("editing"));
        if (!isOpen) {
          ef.classList.add("open");
          row.classList.add("editing");
        }
      }

      function cancelEdit(id) {
        document.getElementById(`ef-${id}`).classList.remove("open");
        document.getElementById(`row-${id}`).classList.remove("editing");
      }

      async function saveEdit(id) {
        if (isSaving) return;
        const day = document.getElementById(`ef-day-${id}`).value.trim();
        const my = document.getElementById(`ef-my-${id}`).value.trim();
        const name = document.getElementById(`ef-name-${id}`).value.trim();
        const place = document.getElementById(`ef-place-${id}`).value.trim();
        if (!day || !my || !name || !place) {
          showToast("Wszystkie pola sÄ… wymagane", "danger");
          return;
        }
        const idx = concerts.findIndex((c) => c.id === id);
        if (idx > -1)
          concerts[idx] = {
            id,
            day: day.padStart(2, "0"),
            monthYear: my,
            name,
            place,
          };
        await persistToGitHub(`Zaktualizowano: ${name}`, `save-${id}`);
        render();
        updateStats();
      }

      function openDeleteModal(id) {
        const c = concerts.find((c) => c.id === id);
        if (!c) return;
        deleteTargetId = id;
        document.getElementById("deleteModalName").textContent =
          `${c.name} â€” ${c.day} ${c.monthYear}`;
        document.getElementById("deleteModal").classList.add("open");
      }

      function closeDeleteModal() {
        document.getElementById("deleteModal").classList.remove("open");
        deleteTargetId = null;
      }

      async function confirmDelete() {
        if (deleteTargetId === null || isSaving) return;
        const c = concerts.find((c) => c.id === deleteTargetId);
        concerts = concerts.filter((c) => c.id !== deleteTargetId);
        closeDeleteModal();
        await persistToGitHub(
          `UsuniÄ™to: ${c ? c.name : deleteTargetId}`,
          "confirmDeleteBtn",
        );
        render();
        updateStats();
      }

      async function moveUp(id) {
        const idx = concerts.findIndex((c) => c.id === id);
        if (idx <= 0) return;
        [concerts[idx - 1], concerts[idx]] = [concerts[idx], concerts[idx - 1]];
        await persistToGitHub("Zmieniono kolejnoÅ›Ä‡ koncertÃ³w");
        render();
      }

      async function moveDown(id) {
        const idx = concerts.findIndex((c) => c.id === id);
        if (idx < 0 || idx >= concerts.length - 1) return;
        [concerts[idx], concerts[idx + 1]] = [concerts[idx + 1], concerts[idx]];
        await persistToGitHub("Zmieniono kolejnoÅ›Ä‡ koncertÃ³w");
        render();
      }

      function confirmReset() {
        document.getElementById("resetModal").classList.add("open");
      }

      async function doReset() {
        if (isSaving) return;
        concerts = JSON.parse(JSON.stringify(DEFAULT_CONCERTS));
        document.getElementById("resetModal").classList.remove("open");
        await persistToGitHub("Reset do domyÅ›lnej listy", "confirmResetBtn");
        render();
        updateStats();
      }

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // PERSIST
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      async function persistToGitHub(msg, btnId = null) {
        isSaving = true;
        if (btnId) setBtnLoading(btnId, true);
        setStatus("loading", "Zapisywanie na GitHub...");
        try {
          await saveFile(concerts, msg);
          setStatus(
            "ok",
            `Zapisano o <span>${new Date().toLocaleTimeString("pl-PL")}</span> â€” <span>${msg}</span>`,
          );
          showToast("Zapisano na GitHub âœ“", "success");
        } catch (e) {
          setStatus("err", `BÅ‚Ä…d zapisu: <span>${e.message}</span>`);
          showToast(`BÅ‚Ä…d: ${e.message}`, "danger");
        } finally {
          isSaving = false;
          if (btnId) setBtnLoading(btnId, false);
        }
      }

      function setBtnLoading(id, loading) {
        const btn = document.getElementById(id);
        if (!btn) return;
        btn.disabled = loading;
        if (loading) {
          btn._orig = btn.innerHTML;
          btn.innerHTML = `<span class="spinner"></span>Zapisywanie...`;
        } else btn.innerHTML = btn._orig || btn.innerHTML;
      }

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // HELPERS
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      function setStatus(type, html) {
        document.getElementById("statusDot").className = `status-dot ${type}`;
        document.getElementById("statusText").innerHTML = html;
      }

      let toastTimer;
      function showToast(msg, type = "success") {
        const el = document.getElementById("toast");
        el.textContent = msg;
        el.className = `toast ${type} show`;
        clearTimeout(toastTimer);
        toastTimer = setTimeout(() => el.classList.remove("show"), 3500);
      }

      document.getElementById("addCardHeader").addEventListener("click", () => {
        const body = document.getElementById("addBody");
        const toggle = document.getElementById("addToggle");
        const hidden = body.style.display === "none";
        body.style.display = hidden ? "block" : "none";
        toggle.classList.toggle("open", hidden);
      });

      document
        .getElementById("deleteModal")
        .addEventListener("click", function (e) {
          if (e.target === this) closeDeleteModal();
        });
      document
        .getElementById("resetModal")
        .addEventListener("click", function (e) {
          if (e.target === this)
            document.getElementById("resetModal").classList.remove("open");
        });

      ["newDay", "newYear", "newName", "newPlace"].forEach((id) => {
        document.getElementById(id).addEventListener("keydown", (e) => {
          if (e.key === "Enter") addConcert();
        });
      });
    </script>
  </body>
</html>
